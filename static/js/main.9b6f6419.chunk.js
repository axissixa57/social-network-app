(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return a});var r="SEND_MESSAGE",a=function(e){return{type:r,newMessageBody:e}}},133:function(e,t,n){e.exports={userPhoto:"Users_userPhoto__1IwwR"}},134:function(e,t){e.exports="data:image/png;base64,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"},136:function(e,t,n){e.exports=n.p+"static/media/preloader.fbb95c93.svg"},14:function(e,t,n){e.exports={nav:"Navbar_nav__2W8s-",item:"Navbar_item__3f5p1",active:"Navbar_active__2JEyl"}},163:function(e,t,n){e.exports=n(289)},17:function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return i}),n.d(t,"a",function(){return c});var r=n(130),a=r.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"f1ea0441-d702-44bf-808f-60ba98040921"}}),o={getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return a.get("users?page=".concat(e,"&count=").concat(t)).then(function(e){return e.data})},follow:function(e){return a.post("follow/".concat(e))},unfollow:function(e){return a.delete("follow/".concat(e))},getProfile:function(e){return console.warn("Obsolete method. Please use profileAPI object"),i.getProfile(e)}},i={getProfile:function(e){return a.get("profile/".concat(e))},getStatus:function(e){return a.get("profile/status/".concat(e))},updateStatus:function(e){return a.put("profile/status/",{status:e})}},c={me:function(){return a.get("auth/me")},register:function(e,t,n){return a.post("auth/register",{email:e,login:t,password:n})},login:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a.post("auth/login",{email:e,password:t,rememberMe:n})},logout:function(){return a.delete("auth/login")}}},248:function(e,t,n){},288:function(e,t,n){},289:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(63),i=n.n(o),c=n(9),u=n(8),s=n(7),l=n(129),f=n(127),g=n(44),p=n(19),m=n(49);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var v={posts:[{id:1,message:"Hi, how are you?",likesCount:12},{id:2,message:"It's my first post",likesCount:11},{id:3,message:"Blabla",likesCount:11},{id:4,message:"Dada",likesCount:11}],profile:null,status:""},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case m.a:var n={id:5,message:t.newPostText,likesCount:0};return A({},e,{posts:[].concat(Object(g.a)(e.posts),[n])});case m.d:return A({},e,{profile:t.profile});case m.c:return A({},e,{status:t.status});case m.b:return A({},e,{posts:e.posts.filter(function(e){return e.id!=t.postId})});default:return e}},E=n(103);function b(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function P(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?b(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var w={dialogs:[{id:1,name:"Dimych"},{id:2,name:"Andrew"},{id:3,name:"Sveta"},{id:4,name:"Sasha"},{id:5,name:"Viktor"},{id:6,name:"Valera"}],messages:[{id:1,message:"Hi"},{id:2,message:"How is your brother?"},{id:3,message:"Yo"},{id:4,message:"Yo"},{id:5,message:"Yo"}]},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.a:var n=t.newMessageBody;return P({},e,{messages:[].concat(Object(g.a)(e.messages),[{id:6,message:n}])});default:return e}},k={},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k;arguments.length>1&&arguments[1];return e},S=n(17),C="UNFOLLOW-NEW-POST-TEXT",j=function(e){return{type:"ADD-FOLLOW",userId:e}},I=function(e){return{type:C,userId:e}},R=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},T=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}};function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var N={users:[],pageSize:10,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[],fake:10},B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FAKE":return M({},e,{fake:e.fake+1});case"SET_USERS":return M({},e,{users:t.users});case"ADD-FOLLOW":return M({},e,{users:e.users.map(function(e){return e.id===t.userId?M({},e,{followed:!0}):e})});case C:return M({},e,{users:e.users.map(function(e){return e.id===t.userId?M({},e,{followed:!1}):e})});case"SET_CURRENT_PAGE":return M({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return M({},e,{totalUsersCount:t.count});case"TOGGLE_IS_FETCHING":return M({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return M({},e,{followingInProgress:t.isFetching?[].concat(Object(g.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter(function(e){return e!==t.userId})});default:return e}},Q=n(38),F=function(e,t,n,r){return{type:"SET_USER_DATA",payload:{userId:e,email:t,login:n,isAuth:r}}},U=function(){return{type:"SET_IS_REGISTER"}},x=function(){return function(e){return S.a.me().then(function(t){if(0===t.data.resultCode){var n=t.data.data,r=n.id,a=n.login,o=n.email;e(F(r,o,a,!0))}})}};function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var L={userId:null,email:null,login:null,isAuth:!1,isRegister:!1},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return W({},e,{},t.payload);case"SET_IS_REGISTER":return W({},e,{isRegister:!e.isRegister});default:return e}};function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(n,!0).forEach(function(t){Object(p.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Y={initialized:!1},G=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return J({},e,{initialized:!0});default:return e}},z=Object(s.c)({profileReducer:h,dialogsReducer:O,sidebarReducer:y,usersReducer:B,authReducer:V,form:f.a,appReducer:G}),X=Object(s.e)(z,Object(s.a)(l.a)),Z=n(26),q=n(27),_=n(29),$=n(28),ee=n(30),te=n(23),ne=(n(248),n(14)),re=n.n(ne),ae=function(){return a.a.createElement("nav",{className:re.a.nav},a.a.createElement("div",{className:re.a.item},a.a.createElement(c.b,{to:"/profile",activeClassName:re.a.active},"My profile")),a.a.createElement("div",{className:re.a.item},a.a.createElement(c.b,{to:"/news",activeClassName:re.a.active},"News")),a.a.createElement("div",{className:re.a.item},a.a.createElement(c.b,{to:"/dialogs",activeClassName:re.a.active},"Messages")),a.a.createElement("div",{className:re.a.item},a.a.createElement(c.b,{to:"/users",activeClassName:re.a.active},"Friends")),a.a.createElement("div",{className:re.a.item},a.a.createElement(c.b,{to:"/music",activeClassName:re.a.active},"Music")),a.a.createElement("div",{className:re.a.item},a.a.createElement(c.b,{to:"/settings",activeClassName:re.a.active},"Settings")))},oe=n(45),ie=n(133),ce=n.n(ie),ue=n(134),se=n.n(ue),le=n(126),fe=n(135),ge=n.n(fe),pe=n(69),me=n.n(pe),de=function(e){for(var t=e.totalItemsCount,n=e.pageSize,o=e.currentPage,i=e.onPageChanged,c=e.portionSize,u=void 0===c?10:c,s=Math.ceil(t/n),l=[],f=1;f<=s;f++)l.push(f);var g=Math.ceil(s/u),m=Object(r.useState)(1),d=Object(le.a)(m,2),A=d[0],v=d[1],h=(A-1)*u+1,E=A*u;return a.a.createElement("div",{className:me.a.paginator},A>1&&a.a.createElement("button",{onClick:function(){v(A-1)}},"PREV"),l.filter(function(e){return e>=h&&e<=E}).map(function(e){return a.a.createElement("span",{className:ge()(me.a.pageNumber,Object(p.a)({},me.a.selectedPage,o===e)),key:e,onClick:function(t){i(e)}},e)}),g>A&&a.a.createElement("button",{onClick:function(){v(A+1)}},"NEXT"))},Ae=function(e){var t=e.currentPage,n=e.totalUsersCount,r=e.pageSize,o=e.onPageChanged,i=e.users,u=Object(oe.a)(e,["currentPage","totalUsersCount","pageSize","onPageChanged","users"]);return a.a.createElement("div",null,a.a.createElement(de,{currentPage:t,onPageChanged:o,totalItemsCount:n,pageSize:r}),i.map(function(e){return a.a.createElement("div",{key:e.id},a.a.createElement("span",null,a.a.createElement("div",null,a.a.createElement(c.b,{to:"/profile/".concat(e.id)},a.a.createElement("img",{className:ce.a.userPhoto,src:null!=e.photos.small?e.photos.small:se.a,alt:""}))),a.a.createElement("div",null,e.followed?a.a.createElement("button",{disabled:u.followingInProgress.some(function(t){return t===e.id}),onClick:function(){u.unfollow(e.id)}},"Unfollow"):a.a.createElement("button",{disabled:u.followingInProgress.some(function(t){return t===e.id}),onClick:function(){u.follow(e.id)}},"Follow"))),a.a.createElement("span",null,a.a.createElement("span",null,a.a.createElement("div",null,e.name),a.a.createElement("div",null,e.status)),a.a.createElement("span",null,a.a.createElement("div",null),a.a.createElement("div",null))))}))},ve=n(61),he=n(92),Ee=n(137),be=Object(Ee.a)(function(e){return e.usersReducer.users},function(e){return e.filter(function(e){return!0})}),Pe=function(e){return e.usersReducer.pageSize},we=function(e){return e.usersReducer.totalUsersCount},Oe=function(e){return e.usersReducer.currentPage},ke=function(e){return e.usersReducer.isFetching},ye=function(e){return e.usersReducer.followingInProgress},Se=function(e){function t(){var e,n;Object(Z.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(_.a)(this,(e=Object($.a)(t)).call.apply(e,[this].concat(a)))).onPageChanged=function(e){n.props.setCurrentPage(e),n.props.getUsersThunkCreator(e,n.props.pageSize)},n}return Object(ee.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.props.isFetching?a.a.createElement(ve.a,null):null,a.a.createElement(Ae,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,follow:this.props.followThunkCreator,unfollow:this.props.unfollowThunkCreator,followingInProgress:this.props.followingInProgress}))}}]),t}(a.a.Component),Ce=Object(s.d)(Object(u.b)(function(e){return{users:be(e),pageSize:Pe(e),totalUsersCount:we(e),currentPage:Oe(e),isFetching:ke(e),followingInProgress:ye(e)}},{follow:j,unfollow:I,setCurrentPage:function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},toggleFollowingProgress:T,getUsersThunkCreator:function(e,t){return function(n){n(R(!0)),S.c.getUsers(e,t).then(function(e){n(R(!1)),n({type:"SET_USERS",users:e.items}),n({type:"SET_TOTAL_USERS_COUNT",count:e.totalCount})})}},followThunkCreator:function(e){return function(t){t(T(!0,e)),S.c.follow(e).then(function(n){0===n.data.resultCode&&t(j(e)),t(T(!1,e))})}},unfollowThunkCreator:function(e){return function(t){t(T(!0,e)),S.c.unfollow(e).then(function(n){0===n.data.resultCode&&t(I(e)),t(T(!1,e))})}}}),he.a)(Se),je=n(89),Ie=n.n(je),Re=function(e){return a.a.createElement("header",{className:Ie.a.header},a.a.createElement("img",{src:"",alt:""}),a.a.createElement("div",{className:Ie.a.loginBlock},e.isAuth?a.a.createElement("div",null,e.login," - ",a.a.createElement("button",{onClick:e.logout},"Log out")):a.a.createElement("div",null,a.a.createElement(c.b,{style:{marginRight:"15px"},to:"/register"},"Register"),a.a.createElement(c.b,{to:"/login"},"Login"))))},Te=function(e){function t(){return Object(Z.a)(this,t),Object(_.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(q.a)(t,[{key:"render",value:function(){return a.a.createElement(Re,this.props)}}]),t}(a.a.Component),De=Object(u.b)(function(e){return{isAuth:e.authReducer.isAuth,login:e.authReducer.login}},{logout:function(){return function(e){S.a.logout().then(function(t){0===t.data.resultCode&&(localStorage.removeItem("x-access-token"),e(F(null,null,null,!1)))})}}})(Te),Me=n(124),Ne=n(125),Be=n(32),Qe=n(36),Fe=n(37),Ue=n.n(Fe),xe=Object(Ne.a)({form:"login"})(function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("div",null,a.a.createElement(Me.a,{name:"email",placeholder:"Email",validate:[Qe.b],component:Be.a})),a.a.createElement("div",null,a.a.createElement(Me.a,{type:"password",name:"password",placeholder:"Password",validate:[Qe.b],component:Be.a})),a.a.createElement("div",null,a.a.createElement(Me.a,{type:"checkbox",name:"rememberMe",placeholder:"Login",component:Be.a}),"remember me"),e.error&&a.a.createElement("div",{className:Ue.a.formSummaryError},e.error),a.a.createElement("div",null,a.a.createElement("button",null,"Login")))}),Ke=Object(u.b)(function(e){return{isAuth:e.authReducer.isAuth}},{login:function(e,t,n){return function(r){S.a.login(e,t,n).then(function(e){if(0===e.data.resultCode)localStorage.setItem("x-access-token",e.data.accessToken),r(x());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";r(Object(Q.a)("login",{_error:t}))}})}}})(function(e){return e.isAuth?a.a.createElement(te.a,{to:"/profile"}):a.a.createElement("div",null,a.a.createElement("h1",null,"Login"),a.a.createElement(xe,{onSubmit:function(t){var n=t.email,r=t.password,a=t.rememberMe;e.login(n,r,a)}}))}),We=Object(Ne.a)({form:"register"})(function(e){return a.a.createElement("form",{onSubmit:e.handleSubmit},a.a.createElement("div",null,a.a.createElement(Me.a,{name:"login",placeholder:"Login",validate:[Qe.b],component:Be.a})),a.a.createElement("div",null,a.a.createElement(Me.a,{name:"email",placeholder:"Email",validate:[Qe.b],component:Be.a})),a.a.createElement("div",null,a.a.createElement(Me.a,{type:"password",name:"password",placeholder:"Password",validate:[Qe.b],component:Be.a})),e.error&&a.a.createElement("div",{className:Ue.a.formSummaryError},e.error),a.a.createElement("div",null,a.a.createElement("button",null,"Register")))}),Le=Object(u.b)(function(e){return{isRegister:e.authReducer.isRegister}},{register:function(e,t,n){return function(r){S.a.register(e,t,n).then(function(e){if(0===e.data.resultCode)r({type:"SET_IS_REGISTER"}),localStorage.setItem("x-access-token",e.data.accessToken);else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";r(Object(Q.a)("register",{_error:t}))}})}},setIsRegister:U})(function(e){return e.isRegister?(e.setIsRegister(),a.a.createElement(te.a,{to:"/login"})):a.a.createElement("div",null,a.a.createElement("h1",null,"Register"),a.a.createElement(We,{onSubmit:function(t){var n=t.email,r=t.login,a=t.password;e.register(n,r,a)}}))}),Ve=function(e){return function(t){return a.a.createElement(a.a.Suspense,{fallback:a.a.createElement("div",null,"Loading...")},a.a.createElement(e,t))}},He=a.a.lazy(function(){return n.e(4).then(n.bind(null,299))}),Je=a.a.lazy(function(){return n.e(3).then(n.bind(null,298))}),Ye=function(e){function t(){return Object(Z.a)(this,t),Object(_.a)(this,Object($.a)(t).apply(this,arguments))}return Object(ee.a)(t,e),Object(q.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?a.a.createElement("div",{className:"app-wrapper"},a.a.createElement(De,null),a.a.createElement(ae,null),a.a.createElement("div",{className:"app-wrapper-content"},a.a.createElement(te.b,{path:"/profile/:userId?",render:Ve(Je)}),a.a.createElement(te.b,{exact:!0,path:"/dialogs",render:Ve(He)}),a.a.createElement(te.b,{path:"/users",render:function(){return a.a.createElement(Ce,null)}}),a.a.createElement(te.b,{path:"/login",render:function(){return a.a.createElement(Ke,null)}}),a.a.createElement(te.b,{path:"/register",render:function(){return a.a.createElement(Le,null)}}))):a.a.createElement(ve.a,null)}}]),t}(r.Component),Ge=Object(s.d)(Object(u.b)(function(e){return{initialized:e.appReducer.initialized}},{initializeApp:function(){return function(e){var t=e(x());Promise.all([t]).then(function(){e({type:"INITIALIZED_SUCCESS"})})}}}),te.f)(Ye);n(288);i.a.render(a.a.createElement(c.a,null,a.a.createElement(u.a,{store:X},a.a.createElement(Ge,null))),document.getElementById("root"))},32:function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return l});var r=n(45),a=n(0),o=n.n(a),i=n(37),c=n.n(i),u=function(e){e.input;var t=e.meta,n=(e.child,Object(r.a)(e,["input","meta","child"])),a=t.touched&&t.error;return o.a.createElement("div",{className:c.a.formControl+" "+(a?c.a.error:"")},o.a.createElement("div",null,n.children),a&&o.a.createElement("span",null,t.error))},s=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return o.a.createElement(u,e,o.a.createElement("textarea",Object.assign({},t,n)))},l=function(e){var t=e.input,n=(e.meta,Object(r.a)(e,["input","meta"]));return o.a.createElement(u,e,o.a.createElement("input",Object.assign({},t,n)))}},36:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r=function(e){if(!e)return"Field is required"},a=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}}},37:function(e,t,n){e.exports={formControl:"FormsControls_formControl__112jS",error:"FormsControls_error__1sSuk",formSummaryError:"FormsControls_formSummaryError__3x0yL"}},49:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return c}),n.d(t,"e",function(){return u}),n.d(t,"g",function(){return l}),n.d(t,"f",function(){return f}),n.d(t,"h",function(){return g});var r=n(17),a="ADD-POST",o="SET_USER_PROFILE",i="SET_STATUS",c="DELETE_POST",u=function(e){return{type:a,newPostText:e}},s=function(e){return{type:i,status:e}},l=function(e){return function(t){r.c.getProfile(e).then(function(e){var n;t((n=e.data,{type:o,profile:n}))})}},f=function(e){return function(t){r.b.getStatus(e).then(function(e){t(s(e.data))})}},g=function(e){return function(t){r.b.updateStatus(e).then(function(n){0===n.data.resultCode&&t(s(e))})}}},61:function(e,t,n){"use strict";var r=n(136),a=n.n(r),o=n(0),i=n.n(o);t.a=function(){return i.a.createElement("img",{src:a.a,alt:""})}},69:function(e,t,n){e.exports={paginator:"Paginator_paginator__2Z70I",pageNumber:"Paginator_pageNumber__dRBbw",selectedPage:"Paginator_selectedPage__2BOAX"}},89:function(e,t,n){e.exports={header:"Header_header__2Q4Ri",loginBlock:"Header_loginBlock__1NlbR"}},92:function(e,t,n){"use strict";n.d(t,"a",function(){return p});var r=n(26),a=n(27),o=n(29),i=n(28),c=n(30),u=n(0),s=n.n(u),l=n(23),f=n(8),g=function(e){return{isAuth:e.authReducer.isAuth}},p=function(e){var t=function(t){function n(){return Object(r.a)(this,n),Object(o.a)(this,Object(i.a)(n).apply(this,arguments))}return Object(c.a)(n,t),Object(a.a)(n,[{key:"render",value:function(){return this.props.isAuth?s.a.createElement(e,this.props):s.a.createElement(l.a,{to:"/login"})}}]),n}(s.a.Component);return Object(f.b)(g)(t)}}},[[163,1,2]]]);
//# sourceMappingURL=main.9b6f6419.chunk.js.map